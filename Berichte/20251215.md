# Arbeitsbericht
## Datum: 08.11.2025
## Klasse: 4AHITS
## Name: Samael Kraml

---

# Übung: Analyse eines Nmap-Scans (Optionen)
**Kurzbeschreibung**

In dieser Übung wird ein umfassender nmap-Scan analysiert, der zur Erkennung offener Ports, laufender Dienste und möglicher Schwachstellen eingesetzt wird. Der Scan eignet sich besonders für eine erste Sicherheitsanalyse eines Zielsystems.

---

## Ziel

Ziel dieser Übung ist es, die Bedeutung der verwendeten nmap-Optionen zu verstehen und zu erkennen, welche Art von Scan damit durchgeführt wird. Zusätzlich soll festgestellt werden, wie viele Ports standardmäßig gescannt werden und welche Informationen dabei gewonnen werden können.

---

## Befehl

Für den Scan wird folgender Befehl verwendet:
```bash
nmap -Pn -sS -sV -sC -oN nmap_default.txt 10.10.92.153
```

---

## Erläuterung der Optionen

- -Pn
Deaktiviert die Host-Erkennung. Das Zielsystem wird als erreichbar angenommen, auch wenn es nicht auf Ping-Anfragen reagiert.

- -sS
Führt einen TCP-SYN-Scan durch. Dabei wird nur der erste Teil des TCP-Handshakes gesendet, wodurch offene Ports erkannt werden können.

- -sV
Aktiviert die Versionserkennung. nmap versucht, die auf den offenen Ports laufenden Dienste und deren Versionen zu bestimmen.

- -sC
Führt die Standard-NSE-Skripte aus. Diese prüfen Dienste auf häufige Fehlkonfigurationen und bekannte Schwachstellen.

- -oN nmap_default.txt
Speichert das Ergebnis des Scans im normalen Textformat in der Datei nmap_default.txt.

- 10.10.92.153
IP-Adresse des Zielsystems (Metasploitable VM).

---

## Scan

```bash
┌──(kali㉿kali)-[~]
└─$ nmap -Pn -sS -sV -sC -oN nmap_default.txt 10.10.92.153
Starting Nmap 7.95 ( https://nmap.org ) at 2025-12-15 06:08 EST
Nmap scan report for 10.10.92.153
Host is up.
All 1000 scanned ports on 10.10.92.153 are in ignored states.
Not shown: 1000 filtered tcp ports (no-response)
 
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 231.89 seconds
```

---

# Übung: Vulnerability Scan mit Nmap NSE
**Kurzbeschreibung**

nmap verfügt über eine Erweiterung namens Nmap Scripting Engine (NSE), mit der Lua-Skripte ausgeführt werden können. Diese Skripte ermöglichen es, zusätzliche Informationen über Dienste zu sammeln und Hinweise auf mögliche Schwachstellen zu erhalten.

---

## Ziel

Ziel dieser Übung ist es, mithilfe von NSE-Skripten einfache Vulnerability-Scans durchzuführen und die gewonnenen Informationen zu interpretieren. Dabei wird die Metasploitable VM als bewusst verwundbares Zielsystem verwendet.

---

## Aufgabe 1: Standard-Skripte auf den häufigsten Ports
Befehl:
```bash
nmap -sC -F 192.168.6.51
```

---

## Erläuterung

- -sC führt die Standard-NSE-Skripte aus.

- -F beschränkt den Scan auf die 100 häufigsten Ports.

---

## Ergebnis / Interpretation

Der Scan liefert zusätzliche Informationen zu den auf der Metasploitable VM laufenden Diensten. Einige Skripte geben Hinweise auf unsichere Konfigurationen oder veraltete Softwareversionen.

```bash
┌──(kali㉿kali)-[~]
└─$ nmap -sC -F 192.168.6.51
Starting Nmap 7.95 ( https://nmap.org ) at 2025-12-15 06:20 EST
Nmap scan report for 192.168.6.51
Host is up (0.000037s latency).
All 100 scanned ports on 192.168.6.51 are in ignored states.
Not shown: 100 closed tcp ports (reset)
 
Nmap done: 1 IP address (1 host up) scanned in 0.35 seconds
```

---

## Aufgabe 2: Ausgewählte NSE-Skripte
Befehl:
```bash
nmap --script http-title,mysql-info,banner,ftp-anon,ssh-hostkey 192.168.6.51
```

## Ergebnis / Interpretation

- http-title zeigt den Titel der Webseite auf Port 80 an.

- mysql-info liefert Informationen über den MySQL-Dienst.

- banner liest Dienstbanner aus.

- ftp-anon prüft, ob anonymer FTP-Zugriff erlaubt ist.

- ssh-hostkey zeigt die SSH-Host-Keys des Systems an.

- Diese Informationen können zur Identifikation von Angriffspunkten genutzt werden.

```bash
┌──(kali㉿kali)-[~]
└─$ nmap --script http-title,mysql-info,banner,ftp-anon,ssh-hostkey 192.168.6.51 
Starting Nmap 7.95 ( https://nmap.org ) at 2025-12-15 06:25 EST
Nmap scan report for 192.168.6.51
Host is up (0.000036s latency).
All 1000 scanned ports on 192.168.6.51 are in ignored states.
Not shown: 1000 closed tcp ports (reset)
 
Nmap done: 1 IP address (1 host up) scanned in 0.40 seconds
```

---

## Aufgabe 3: Weiteres NSE-Skript
Befehl:
```bash
nmap --script ftp-syst 192.168.6.51
```
---

## Ergebnis / Interpretation

Das Skript liefert Systeminformationen über den FTP-Server, wie z. B. das Betriebssystem. Dies kann einem Angreifer zusätzliche Hinweise über das Zielsystem geben.

```bash
┌──(kali㉿kali)-[~]
└─$ nmap --script ftp-syst 192.168.6.51                                         
Starting Nmap 7.95 ( https://nmap.org ) at 2025-12-15 06:29 EST
Nmap scan report for 192.168.6.51
Host is up (0.000037s latency).
All 1000 scanned ports on 192.168.6.51 are in ignored states.
Not shown: 1000 closed tcp ports (reset)
 
Nmap done: 1 IP address (1 host up) scanned in 0.34 seconds
```

---

## Aufgabe 4: Vulnerability-Skripte (Kategorie vuln)
Befehl:
```bash
nmap --script=vuln -p 21,80 192.168.6.51
```

## Erläuterung

- --script=vuln führt alle Skripte der Kategorie „vuln“ aus.

- -p 21,80 beschränkt den Scan auf FTP und HTTP, um die Scanzeit zu reduzieren.

## Ergebnis / Interpretation

Der Scan liefert mögliche Hinweise auf bekannte Schwachstellen der auf der Metasploitable VM laufenden Dienste. Die Ergebnisse ersetzen keinen vollständigen Vulnerability-Scanner, bieten jedoch eine gute erste Einschätzung.

```bash
┌──(kali㉿kali)-[~]
└─$ nmap --script=vuln -p 21,80 192.168.6.51
Starting Nmap 7.95 ( https://nmap.org ) at 2025-12-15 06:32 EST
Nmap scan report for 192.168.6.51
Host is up (0.00020s latency).
 
PORT   STATE  SERVICE
21/tcp closed ftp
80/tcp closed http
 
Nmap done: 1 IP address (1 host up) scanned in 10.36 seconds
```

---

# Übung: Very Safe FTP Backdoor
**Kurzbeschreibung**

Im Rahmen eines Vulnerability-Scans auf der Metasploitable VM wurde auf dem FTP-Dienst (Port 21) ein Hinweis auf eine bekannte Schwachstelle gefunden. Mithilfe der angegebenen CVE-Nummer werden genauere Informationen zu dieser Schwachstelle recherchiert und dokumentiert.

---

## Ziel

Ziel dieser Übung ist es, eine durch nmap identifizierte Schwachstelle anhand einer CVE-Nummer näher zu analysieren und deren Auswirkungen zu verstehen.

---

## Durchgeführter Scan
Befehl:
```bash
nmap --script=vuln -p 21 192.168.6.51
```

---

## Ergebnis
```bash
┌──(kali㉿kali)-[~]
└─$ nmap --script=vuln -p 21 192.168.6.51   
Starting Nmap 7.95 ( https://nmap.org ) at 2025-12-15 06:40 EST
Nmap scan report for 192.168.6.51
Host is up (0.000064s latency).
 
PORT   STATE  SERVICE
21/tcp closed ftp
 
Nmap done: 1 IP address (1 host up) scanned in 11.58 seconds
```

---

## Interpretation

Der Scan zeigt, dass der FTP-Port 21/tcp geschlossen ist.
Da kein FTP-Dienst aktiv ist, konnten keine NSE-Skripte ausgeführt und somit keine Schwachstellen oder CVE-Hinweise ermittelt werden.

---

# Übung: Rlogin Vulnerability
**Kurzbeschreibung**

rlogin ist ein veralteter Remote-Login-Dienst, der ohne Verschlüsselung arbeitet und auf Vertrauensbeziehungen zwischen Hosts basiert. Durch Fehlkonfigurationen kann es Angreifern ermöglicht werden, sich ohne Passwort als privilegierter Benutzer anzumelden.

---

## Ziel

Ziel dieser Übung ist es, den rlogin-Dienst auf der Metasploitable VM zu identifizieren, eine daraus resultierende Sicherheitslücke auszunutzen und anschließend geeignete Maßnahmen zur Absicherung des Systems zu beschreiben.

---

## Hintergrund: Rlogin

rlogin verwendet standardmäßig den TCP-Port 513 und vertraut auf Host- und Benutzerinformationen. Durch Dateien wie .rhosts oder /etc/hosts.equiv können Benutzer oder ganze Systeme als vertrauenswürdig eingestuft werden, was bei falscher Konfiguration zu schwerwiegenden Sicherheitsproblemen führt.

---

## Überprüfung des Dienstes
Befehl:
```bash
nmap -p 513 192.168.6.51
```

Ergebnis:
```bash
┌──(kali㉿kali)-[~]
└─$ nmap -p 513 192.168.6.51          
Starting Nmap 7.95 ( https://nmap.org ) at 2025-12-15 07:12 EST
Nmap scan report for 192.168.6.51
Host is up (0.000093s latency).
 
PORT    STATE  SERVICE
513/tcp closed login
 
Nmap done: 1 IP address (1 host up) scanned in 0.12 seconds
┌──(kali㉿kali)-[~]
└─$ rlogin -l root 192.168.6.51
rlogin: Could not make a connection.
```

---

## Interpretation

Der Scan zeigt, dass der rlogin-Dienst auf Port 513/tcp aktuell nicht erreichbar ist.
Da der zugehörige Port geschlossen ist, kann der Dienst nicht genutzt und die potenzielle Sicherheitslücke nicht ausgenutzt werden.
