# Arbeitsbericht
## Datum: 19.01.2026
## Klasse: 4AHITS
## Name: Samael Kraml

---

# Übung: Metasploit Framework – Grundlagen (msf Basics)

## Kurzbeschreibung

In dieser Übung werden die grundlegenden Funktionen des Metasploit Frameworks kennengelernt. Der Fokus liegt auf der Bedienung von `msfconsole`, der Nutzung von Scanner-Modulen sowie auf wichtigen Metasploit-Komponenten.

---

## Ziel

Ziel ist es, die grundlegende Bedienung von Metasploit zu verstehen, Module zu suchen und auszuführen sowie erste Informationen über Zielsysteme zu sammeln.

---

## Start von Metasploit

```bash
msfconsole
```

Dieser Befehl startet die Metasploit-Konsole.

---

## Beispielmodule
### SSH Version Scanner

Ermittelt die auf einem Zielsystem laufende SSH-Version.

```bash
use auxiliary/scanner/ssh/ssh_version
set RHOSTS <target IP>
run
```

---

### HTTP Title Scanner

Liest den HTTP-Titel einer Webseite aus.

```bash
use auxiliary/scanner/http/title
set RHOSTS www.orf.at
run
```

---

## Metasploit Cheatsheet

search: Sucht nach Modulen

use: Lädt ein Modul

info: Modulbeschreibung

options: Zeigt Optionen

set: Setzt Optionen

run: Startet das Modul

back: Verlässt das Modul

---

## setg (Set Global)

Mit setg werden Optionen global für alle Module gesetzt.

```bash
setg RHOSTS 10.10.10.5
```

Dies spart Zeit bei mehreren Modulen mit demselben Ziel.

---

## Recherche: msfvenom

msfvenom ist ein Metasploit-Tool zur Erstellung von Payloads. Es kombiniert Payloads und Encoder und gibt diese in verschiedenen Formaten aus.

---

## Recherche: Meterpreter

Der Meterpreter ist ein erweiterter Metasploit-Payload zur Interaktion mit Zielsystemen. Er ermöglicht unter anderem Dateioperationen und Prozessverwaltung.

---

# Übung: Nmap FTP Vulnerability Scan

## Kurzbeschreibung

In dieser Übung wird ein gezielter Nmap-Vulnerability-Scan auf den FTP-Port durchgeführt. Mithilfe der `vuln`-NSE-Skripte werden bekannte Sicherheitslücken identifiziert und anhand einer CVE-Nummer analysiert.

---

## Ziel

Ziel der Übung ist es, den FTP-Dienst eines Zielsystems auf bekannte Schwachstellen zu überprüfen und die Ergebnisse eines Vulnerability-Scans korrekt zu interpretieren.

---

## Befehl

```bash
nmap -p 21 --script=vuln 192.168.124.132
```

---

## Scan-Ergebnis

```bash
[*] exec: nmap -p 21 --script=vuln 192.168.124.132
 
Starting Nmap 7.95 ( https://nmap.org ) at 2026-01-19 06:41 EST
Nmap scan report for 192.168.124.132
Host is up (0.00060s latency).
 
PORT   STATE SERVICE
21/tcp open  ftp
| ftp-vsftpd-backdoor: 
|   VULNERABLE:
|   vsFTPd version 2.3.4 backdoor
|     State: VULNERABLE (Exploitable)
|     IDs:  CVE:CVE-2011-2523  BID:48539
|       vsFTPd version 2.3.4 backdoor, this was reported on 2011-07-04.
|     Disclosure date: 2011-07-03
|     Exploit results:
|       Shell command: id
|       Results: uid=0(root) gid=0(root)
|     References:
|       https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-2523
|       http://scarybeastsecurity.blogspot.com/2011/07/alert-vsftpd-download-backdoored.html
|       https://www.securityfocus.com/bid/48539
|_      https://github.com/rapid7/metasploit-framework/blob/master/modules/exploits/unix/ftp/vsftpd_234_backdoor.rb
MAC Address: 00:0C:29:3A:8D:CD (VMware)
 
Nmap done: 1 IP address (1 host up) scanned in 11.58 seconds
```

Der Scan zeigt, dass auf dem Zielsystem der FTP-Dienst vsftpd 2.3.4 auf Port 21 aktiv ist. Nmap meldet den Dienst als verwundbar.

Es wurde folgende Sicherheitslücke identifiziert:

- CVE-2011-2523

- Status: VULNERABLE (Exploitable)

Diese Schwachstelle betrifft eine manipulierte Version von vsftpd 2.3.4, die eine versteckte Backdoor enthält. Durch eine speziell präparierte Anmeldung kann eine Shell mit Root-Rechten geöffnet werden.

---

## CVE-Analyse

- CVE: CVE-2011-2523
- Dienst: vsftpd 2.3.4
- Art der Schwachstelle: Backdoor
- Auswirkung: Unautorisierter Zugriff mit Root-Rechten
- Veröffentlichung: Juli 2011

Die Schwachstelle entstand durch eine kompromittierte Version der Software, die kurzzeitig offiziell verteilt wurde.

---

## Intrusive Scripts

Die verwendeten ``vuln``-Skripte gelten als intrusive, da sie aktiv prüfen, ob Sicherheitslücken ausnutzbar sind. Dabei können sie Dienste beeinflussen oder unerwünschte Effekte verursachen.

Aus diesem Grund werden diese Skripte nicht automatisch bei Scans mit ``-sC`` oder ``-A`` ausgeführt, sondern müssen bewusst manuell aktiviert werden.

---

# Übung: FTP-Versionserkennung mit Metasploit

## Kurzbeschreibung

In dieser Übung wird mithilfe eines Metasploit-Scanner-Moduls die Version des auf dem Zielsystem installierten FTP-Servers ermittelt. Diese Analyse dient als Vorbereitung für die anschließende Schwachstellenbewertung.

---

## Modul und Befehl

Zur Versionserkennung wurde das folgende Metasploit-Modul verwendet:

```bash
use auxiliary/scanner/ftp/ftp_version
set RHOSTS 192.168.124.132
run
```

---

## Ergebnis

Das Modul identifizierte den FTP-Dienst auf dem Zielsystem als vsftpd Version 2.3.4.
Diese Information bestätigt die zuvor mit Nmap gewonnenen Ergebnisse und liefert die Grundlage für die Auswahl eines passenden Exploit-Moduls.

---

